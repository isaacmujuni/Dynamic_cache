<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dynamic Code Studio - AI-Powered Code Editor</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header class="header">
            <div class="logo">
                <i class="fas fa-code"></i>
                <h1>Dynamic Code Studio</h1>
            </div>
            <div class="header-controls">
                <button class="btn btn-primary" id="generateBtn">
                    <i class="fas fa-magic"></i>
                    Generate Code
                </button>
                <button class="btn btn-secondary" id="saveBtn">
                    <i class="fas fa-save"></i>
                    Save
                </button>
                <button class="btn btn-secondary" id="loadBtn">
                    <i class="fas fa-folder-open"></i>
                    Load
                </button>
            </div>
        </header>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Sidebar for file explorer and settings -->
            <aside class="sidebar">
                <div class="sidebar-section">
                    <h3><i class="fas fa-folder"></i> Files</h3>
                    <div class="file-tree" id="fileTree">
                        <div class="file-item active" data-file="main.py">
                            <i class="fab fa-python"></i>
                            main.py
                        </div>
                        <div class="file-item" data-file="README.md">
                            <i class="fab fa-markdown"></i>
                            README.md
                        </div>
                    </div>
                </div>
                
                <div class="sidebar-section">
                    <h3><i class="fas fa-cog"></i> Settings</h3>
                    <div class="setting-group">
                        <label for="languageSelect">Language:</label>
                        <select id="languageSelect" class="form-control">
                            <option value="python">Python</option>
                            <option value="javascript">JavaScript</option>
                            <option value="typescript">TypeScript</option>
                            <option value="java">Java</option>
                            <option value="cpp">C++</option>
                            <option value="html">HTML</option>
                            <option value="css">CSS</option>
                        </select>
                    </div>
                    <div class="setting-group">
                        <label for="themeSelect">Theme:</label>
                        <select id="themeSelect" class="form-control">
                            <option value="vs-dark">Dark</option>
                            <option value="vs-light">Light</option>
                            <option value="hc-black">High Contrast</option>
                        </select>
                    </div>
                </div>
            </aside>

            <!-- Code Editor and Documentation Panel -->
            <div class="editor-container">
                <!-- Code Generation Prompt -->
                <div class="prompt-section">
                    <div class="prompt-input-container">
                        <textarea 
                            id="promptInput" 
                            placeholder="Describe what code you want to generate... (e.g., 'Create a function to sort an array', 'Build a REST API endpoint', etc.)"
                            rows="3"
                        ></textarea>
                        <button class="btn btn-generate" id="generateCodeBtn">
                            <i class="fas fa-robot"></i>
                            Generate with AI
                        </button>
                    </div>
                </div>

                <!-- Split View: Code Editor and Documentation -->
                <div class="split-view">
                    <div class="editor-panel">
                        <div class="panel-header">
                            <h3><i class="fas fa-code"></i> Code Editor</h3>
                            <div class="panel-controls">
                                <button class="btn btn-icon" id="runCodeBtn" title="Run Code">
                                    <i class="fas fa-play"></i>
                                </button>
                                <button class="btn btn-icon" id="formatCodeBtn" title="Format Code">
                                    <i class="fas fa-indent"></i>
                                </button>
                            </div>
                        </div>
                        <div id="codeEditor" class="code-editor"></div>
                    </div>

                    <div class="splitter"></div>

                    <div class="docs-panel">
                        <div class="panel-header">
                            <h3><i class="fas fa-book"></i> Documentation</h3>
                            <div class="panel-controls">
                                <button class="btn btn-icon" id="toggleDocsMode" title="Toggle Edit/Preview">
                                    <i class="fas fa-eye"></i>
                                </button>
                            </div>
                        </div>
                        <div class="docs-content">
                            <div id="docsEditor" class="docs-editor"></div>
                            <div id="docsPreview" class="docs-preview hidden"></div>
                        </div>
                    </div>
                </div>

                <!-- Output/Console Panel -->
                <div class="output-panel">
                    <div class="panel-header">
                        <h3><i class="fas fa-terminal"></i> Output</h3>
                        <button class="btn btn-icon" id="clearOutputBtn" title="Clear Output">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                    <div id="outputContent" class="output-content">
                        <div class="output-line">Welcome to Dynamic Code Studio!</div>
                        <div class="output-line">Ready to generate and edit code with AI assistance.</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Loading Overlay -->
        <div id="loadingOverlay" class="loading-overlay hidden">
            <div class="loading-spinner">
                <i class="fas fa-spinner fa-spin"></i>
                <p>Generating code with DeepSeek AI...</p>
            </div>
        </div>

        <!-- API Key Modal -->
        <div id="apiKeyModal" class="modal hidden">
            <div class="modal-content">
                <h3>Configure DeepSeek API</h3>
                <p>Enter your DeepSeek API key to enable AI code generation:</p>
                <input type="password" id="apiKeyInput" placeholder="Your DeepSeek API Key" class="form-control">
                <div class="modal-actions">
                    <button class="btn btn-primary" id="saveApiKeyBtn">Save</button>
                    <button class="btn btn-secondary" id="cancelApiKeyBtn">Cancel</button>
                </div>
                <p class="api-help">
                    <small>
                        Get your API key from <a href="https://platform.deepseek.com/" target="_blank">DeepSeek Platform</a>
                    </small>
                </p>
            </div>
        </div>
    </div>

    <!-- Monaco Editor -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.44.0/min/vs/loader.min.js"></script>
    <!-- Marked.js for Markdown parsing -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/marked/9.1.6/marked.min.js"></script>
    <!-- Main JavaScript -->
    <script src="script.js"></script>
</body>
</html>
